#!/usr/bin/env bash
set -e

# wrap html fragment in the site template

# the sed command just helps with matching the indenting of the fragment and
# the base template
cat << EOF
$(cat ./provider/templates/site_pre.html)
$(
while read -r line; do
  #sed 's/^/      /' "$line"
  echo "$line"
done < <(cat /dev/stdin)
)
$(cat ./provider/templates/site_post.html)
EOF
